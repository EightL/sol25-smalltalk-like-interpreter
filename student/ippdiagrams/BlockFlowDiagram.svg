<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="ACTIVITY" height="1165px" preserveAspectRatio="none" style="width:817px;height:1165px;background:#FFFFFF;" version="1.1" viewBox="0 0 817 1165" width="817px" zoomAndPan="magnify"><title>Block Execution Flow</title><defs/><g><g class="title" data-source-line="1"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="166.79" x="323.9048" y="32.9951">Block Execution Flow</text></g><ellipse cx="400.0245" cy="57.2969" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="164.3809" x="317.8341" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="144.3809" x="327.8341" y="108.4355">Block receives message</text><polygon fill="#F1F1F1" points="219.3849,141.2656,337.4039,141.2656,349.4039,153.2656,337.4039,165.2656,219.3849,165.2656,207.3849,153.2656,219.3849,141.2656" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19.0083" x="282.3944" y="175.4761">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="118.019" x="219.3849" y="157.0737">selector == "isBlock"</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="99.8691" x="228.4598" y="196.9761"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="79.8691" x="238.4598" y="218.1147">Return TrueB</text><ellipse cx="278.3944" cy="261.9448" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="278.3944" cy="261.9448" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><polygon fill="#F1F1F1" points="381.4039,141.2656,518.4205,141.2656,530.4205,153.2656,518.4205,165.2656,381.4039,165.2656,369.4039,153.2656,381.4039,141.2656" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19.0083" x="453.9122" y="175.4761">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="137.0166" x="381.4039" y="157.0737">selector == "whileTrue:"</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="137.5039" x="381.1603" y="253.9761"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="117.5039" x="391.1603" y="275.1147">Execute block body</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="94.9414" x="402.4415" y="315.4448"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="74.9414" x="412.4415" y="336.5835">Check result</text><polygon fill="#F1F1F1" points="449.9122,196.9761,461.9122,208.9761,449.9122,220.9761,437.9122,208.9761,449.9122,196.9761" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="410.9315,369.4136,488.8929,369.4136,500.8929,381.4136,488.8929,393.4136,410.9315,393.4136,398.9315,381.4136,410.9315,369.4136" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="77.9614" x="410.9315" y="385.2217">result is True?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19.0083" x="500.8929" y="378.8193">yes</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88.2617" x="405.7814" y="413.4136"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68.2617" x="415.7814" y="434.5522">Return NilB</text><ellipse cx="449.9122" cy="478.3823" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="449.9122" cy="478.3823" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><path d="M513.7198,513.8003 L513.7198,522.3667 L493.7198,526.3667 L513.7198,530.3667 L513.7198,538.9331 A0,0 0 0 0 513.7198,538.9331 L805.5997,538.9331 A0,0 0 0 0 805.5997,538.9331 L805.5997,523.8003 L795.5997,513.8003 L513.7198,513.8003 A0,0 0 0 0 513.7198,513.8003" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M795.5997,513.8003 L795.5997,523.8003 L805.5997,523.8003 L795.5997,513.8003" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270.8799" x="519.7198" y="530.8672">"value" if arity=0, "value:" if arity=1, etc.</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="187.3906" x="306.3292" y="509.3823"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="167.3906" x="316.3292" y="530.521">Calculate expected selector</text><polygon fill="#F1F1F1" points="322.4283,563.3511,477.6207,563.3511,489.6207,575.3511,477.6207,587.3511,322.4283,587.3511,310.4283,575.3511,322.4283,563.3511" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="155.1924" x="322.4283" y="579.1592">selector matches expected?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19.0083" x="291.42" y="572.7568">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="13.7017" x="489.6207" y="572.7568">no</text><polygon fill="#F1F1F1" points="145.2578,597.3511,340.9858,597.3511,352.9858,609.3511,340.9858,621.3511,145.2578,621.3511,133.2578,609.3511,145.2578,597.3511" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="195.728" x="145.2578" y="613.1592">captureSelf != null &amp;&amp; body != null</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19.0083" x="114.2495" y="606.7568">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="13.7017" x="352.9858" y="606.7568">no</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="169.4551" x="38.5303" y="631.3511"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="149.4551" x="48.5303" y="652.4897">Create new Environment</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="224.5156" x="11" y="700.3198"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="204.5156" x="21" y="721.4585">Prepare frame with self and super</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="172.3379" x="37.0889" y="754.2886"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="152.3379" x="47.0889" y="775.4272">Collect parameter names</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="141.6348" x="52.4404" y="808.2573"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="121.6348" x="62.4404" y="829.396">Bind params to args</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="184.5488" x="30.9834" y="862.2261"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="164.5488" x="40.9834" y="883.3647">Mark params as immutable</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="184.4609" x="31.0273" y="916.1948"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="164.4609" x="41.0273" y="937.3335">Push frame to environment</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="137.5039" x="54.5059" y="970.1636"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="117.5039" x="64.5059" y="991.3022">Execute block body</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="81.5938" x="82.4609" y="1024.1323"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="61.5938" x="92.4609" y="1045.271">Pop frame</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="98.5977" x="73.959" y="1078.1011"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="78.5977" x="83.959" y="1099.2397">Return result</text><ellipse cx="123.2578" cy="1143.0698" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="123.2578" cy="1143.0698" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="163.9414" x="281.0151" y="631.3511"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="143.9414" x="291.0151" y="652.4897">Throw MethodNotFound</text><ellipse cx="362.9858" cy="711.3198" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="362.9858" cy="711.3198" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="163.9414" x="474.9565" y="597.3511"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="143.9414" x="484.9565" y="618.4897">Throw MethodNotFound</text><ellipse cx="556.9272" cy="677.3198" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="556.9272" cy="677.3198" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="400.0245" x2="400.0245" y1="67.2969" y2="87.2969"/><polygon fill="#181818" points="396.0245,77.2969,400.0245,87.2969,404.0245,77.2969,400.0245,81.2969" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="278.3944" x2="278.3944" y1="230.9448" y2="250.9448"/><polygon fill="#181818" points="274.3944,240.9448,278.3944,250.9448,282.3944,240.9448,278.3944,244.9448" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="449.9122" x2="449.9122" y1="287.9448" y2="315.4448"/><polygon fill="#181818" points="445.9122,305.4448,449.9122,315.4448,453.9122,305.4448,449.9122,309.4448" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="449.9122" x2="449.9122" y1="220.9761" y2="253.9761"/><polygon fill="#181818" points="445.9122,243.9761,449.9122,253.9761,453.9122,243.9761,449.9122,247.9761" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="500.8929" x2="530.6642" y1="381.4136" y2="381.4136"/><polygon fill="#181818" points="526.6642,307.9448,530.6642,297.9448,534.6642,307.9448,530.6642,303.9448" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="530.6642" x2="530.6642" y1="208.9761" y2="381.4136"/><line style="stroke:#181818;stroke-width:1;" x1="530.6642" x2="461.9122" y1="208.9761" y2="208.9761"/><polygon fill="#181818" points="471.9122,204.9761,461.9122,208.9761,471.9122,212.9761,467.9122,208.9761" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="449.9122" x2="449.9122" y1="349.4136" y2="369.4136"/><polygon fill="#181818" points="445.9122,359.4136,449.9122,369.4136,453.9122,359.4136,449.9122,363.4136" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="449.9122" x2="449.9122" y1="393.4136" y2="413.4136"/><polygon fill="#181818" points="445.9122,403.4136,449.9122,413.4136,453.9122,403.4136,449.9122,407.4136" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="449.9122" x2="449.9122" y1="447.3823" y2="467.3823"/><polygon fill="#181818" points="445.9122,457.3823,449.9122,467.3823,453.9122,457.3823,449.9122,461.3823" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="278.3944" x2="278.3944" y1="165.2656" y2="196.9761"/><polygon fill="#181818" points="274.3944,186.9761,278.3944,196.9761,282.3944,186.9761,278.3944,190.9761" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="449.9122" x2="449.9122" y1="165.2656" y2="196.9761"/><polygon fill="#181818" points="445.9122,186.9761,449.9122,196.9761,453.9122,186.9761,449.9122,190.9761" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="349.4039" x2="369.4039" y1="153.2656" y2="153.2656"/><polygon fill="#181818" points="359.4039,149.2656,369.4039,153.2656,359.4039,157.2656,363.4039,153.2656" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="400.0245" x2="400.0245" y1="121.2656" y2="126.2656"/><line style="stroke:#181818;stroke-width:1;" x1="400.0245" x2="278.3944" y1="126.2656" y2="126.2656"/><line style="stroke:#181818;stroke-width:1;" x1="278.3944" x2="278.3944" y1="126.2656" y2="141.2656"/><polygon fill="#181818" points="274.3944,131.2656,278.3944,141.2656,282.3944,131.2656,278.3944,135.2656" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="530.4205" x2="577.6642" y1="153.2656" y2="153.2656"/><line style="stroke:#181818;stroke-width:1;" x1="577.6642" x2="577.6642" y1="153.2656" y2="494.3823"/><line style="stroke:#181818;stroke-width:1;" x1="577.6642" x2="400.0245" y1="494.3823" y2="494.3823"/><line style="stroke:#181818;stroke-width:1;" x1="400.0245" x2="400.0245" y1="494.3823" y2="509.3823"/><polygon fill="#181818" points="396.0245,499.3823,400.0245,509.3823,404.0245,499.3823,400.0245,503.3823" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="123.2578" x2="123.2578" y1="665.3198" y2="700.3198"/><polygon fill="#181818" points="119.2578,690.3198,123.2578,700.3198,127.2578,690.3198,123.2578,694.3198" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="123.2578" x2="123.2578" y1="734.2886" y2="754.2886"/><polygon fill="#181818" points="119.2578,744.2886,123.2578,754.2886,127.2578,744.2886,123.2578,748.2886" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="123.2578" x2="123.2578" y1="788.2573" y2="808.2573"/><polygon fill="#181818" points="119.2578,798.2573,123.2578,808.2573,127.2578,798.2573,123.2578,802.2573" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="123.2578" x2="123.2578" y1="842.2261" y2="862.2261"/><polygon fill="#181818" points="119.2578,852.2261,123.2578,862.2261,127.2578,852.2261,123.2578,856.2261" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="123.2578" x2="123.2578" y1="896.1948" y2="916.1948"/><polygon fill="#181818" points="119.2578,906.1948,123.2578,916.1948,127.2578,906.1948,123.2578,910.1948" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="123.2578" x2="123.2578" y1="950.1636" y2="970.1636"/><polygon fill="#181818" points="119.2578,960.1636,123.2578,970.1636,127.2578,960.1636,123.2578,964.1636" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="123.2578" x2="123.2578" y1="1004.1323" y2="1024.1323"/><polygon fill="#181818" points="119.2578,1014.1323,123.2578,1024.1323,127.2578,1014.1323,123.2578,1018.1323" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="123.2578" x2="123.2578" y1="1058.1011" y2="1078.1011"/><polygon fill="#181818" points="119.2578,1068.1011,123.2578,1078.1011,127.2578,1068.1011,123.2578,1072.1011" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="123.2578" x2="123.2578" y1="1112.0698" y2="1132.0698"/><polygon fill="#181818" points="119.2578,1122.0698,123.2578,1132.0698,127.2578,1122.0698,123.2578,1126.0698" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="362.9858" x2="362.9858" y1="665.3198" y2="700.3198"/><polygon fill="#181818" points="358.9858,690.3198,362.9858,700.3198,366.9858,690.3198,362.9858,694.3198" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="133.2578" x2="123.2578" y1="609.3511" y2="609.3511"/><line style="stroke:#181818;stroke-width:1;" x1="123.2578" x2="123.2578" y1="609.3511" y2="631.3511"/><polygon fill="#181818" points="119.2578,621.3511,123.2578,631.3511,127.2578,621.3511,123.2578,625.3511" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="352.9858" x2="362.9858" y1="609.3511" y2="609.3511"/><line style="stroke:#181818;stroke-width:1;" x1="362.9858" x2="362.9858" y1="609.3511" y2="631.3511"/><polygon fill="#181818" points="358.9858,621.3511,362.9858,631.3511,366.9858,621.3511,362.9858,625.3511" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="556.9272" x2="556.9272" y1="631.3198" y2="666.3198"/><polygon fill="#181818" points="552.9272,656.3198,556.9272,666.3198,560.9272,656.3198,556.9272,660.3198" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="310.4283" x2="243.1218" y1="575.3511" y2="575.3511"/><line style="stroke:#181818;stroke-width:1;" x1="243.1218" x2="243.1218" y1="575.3511" y2="597.3511"/><polygon fill="#181818" points="239.1218,587.3511,243.1218,597.3511,247.1218,587.3511,243.1218,591.3511" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="489.6207" x2="556.9272" y1="575.3511" y2="575.3511"/><line style="stroke:#181818;stroke-width:1;" x1="556.9272" x2="556.9272" y1="575.3511" y2="597.3511"/><polygon fill="#181818" points="552.9272,587.3511,556.9272,597.3511,560.9272,587.3511,556.9272,591.3511" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="400.0245" x2="400.0245" y1="543.3511" y2="563.3511"/><polygon fill="#181818" points="396.0245,553.3511,400.0245,563.3511,404.0245,553.3511,400.0245,557.3511" style="stroke:#181818;stroke-width:1;"/><!--SRC=[TL9DJ-im4BpxLomze5P2wBrheWgf26uWzE0FkCcqjd3io5utzD-_pHUK84wsTsPtPsVDbXrevqBrJWyVg3BRuEdHXKwfn3goAaOmee8z8L63bFGHfLBsGEi4Xuf3fEsMLZODtDM6sC3J-eoqKKJ5Ft2EdjvYngwKGEBGAhY47nKwOnrwNh4i4j52iroatYWKj1-KxKDzBaVWtc2GchBZyZE9Xggq7kDaqw3aRjFVbXgVhRkGw6jxKAgurwxAJaj7VBGY5ZNDgalbWyIZFHekQ7NIBcD5CfUEbi_RFpTJhBW8_hqXS7MxCB3HN1dnTsvnjp2W9rUw5PLuXJlGrPPyTewkhmS7vlSYgpSbefVkqT63FzaOV0FFasClOf6Ee4FK3QYpRFhHHAcN6NEBE3iRNA-JX2n4HYGlPvhGdHNw02NY86CUP-H9n_SPqObiqsJMUuUvVKvcwYrv-27lrqs_X7RCczxJ-hvMFwsGgFzdjFPXSkFDnD3H4zY4-ZdmOyY-_iuVbdwPzMlEroVv3m00]--></g></svg>